<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ø¹Ø´Ø§Ø±Ùƒ - Ù„ÙˆØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†</title>
<link rel="stylesheet" href="styles.css">
<style>
/* Ø¥Ø¶Ø§ÙØ§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø£Ø¯Ù…Ù† */
.admin-grid{display:grid;grid-template-columns:1fr 380px;gap:16px}
.panel{background:#fff;padding:12px;border-radius:12px;box-shadow:0 8px 22px rgba(0,0,0,0.06)}
.form-row{margin-bottom:8px}
.small-muted{font-size:13px;color:#666;margin-top:6px}
.row{display:flex;gap:8px;align-items:center}
.listbox{max-height:420px;overflow:auto;padding:6px;border-radius:8px;border:1px solid #f0e8ec}
.item-row{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:8px;border-bottom:1px solid #f4f1f3}
.item-row img{width:56px;height:48px;object-fit:cover;border-radius:8px}
.btn-sm{padding:6px 8px;border-radius:8px;font-size:13px}
.tools{display:flex;gap:8px}
.export-area{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-top:8px}
</style>
</head>
<body>
  <div class="header">Ø¹Ø´Ø§Ø±Ùƒ â€” Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ‘Ù… Ø§Ù„Ù…ØªØ§Ø¬Ø±</div>
  <div class="container">

    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <div>
        <button class="btn ghost" onclick="openPublic()">Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
        <button class="btn ghost" onclick="window.open('orders.html','_blank')">ğŸ§¾ Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
      </div>
      <div class="tools">
        <button class="btn" onclick="exportData()">â¬‡ï¸ ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª (JSON)</button>
        <button class="btn ghost" onclick="document.getElementById('importFile').click()">â¬†ï¸ Ø§Ø³ØªÙŠØ±Ø§Ø¯ JSON</button>
        <input type="file" id="importFile" accept="application/json" style="display:none">
      </div>
    </div>

    <div class="admin-grid">
      <!-- Ù†Ø§Ø­ÙŠØ© Ø§Ù„ÙŠØ³Ø§Ø±: Ø¥Ø¶Ø§ÙØ© / ØªØ­Ø±ÙŠØ± Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
      <div>
        <div class="panel">
          <h3>Ø¥Ø¶Ø§ÙØ© Ù…ØªØ¬Ø± Ø¬Ø¯ÙŠØ¯</h3>
          <div class="form-row"><input id="sName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±"></div>
          <div class="form-row"><input id="sType" placeholder="Ø§Ù„Ù†ÙˆØ¹ (Ù…Ø«Ù„Ø§Ù‹: flowers, cherries)"></div>
          <div class="form-row"><input id="sOwner" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ù„Ùƒ"></div>
          <div class="form-row"><input id="sPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"></div>
          <div class="form-row"><input id="sAddress" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></div>
          <div class="form-row"><textarea id="sDesc" placeholder="Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„Ù…ØªØ¬Ø±"></textarea></div>
          <div class="form-row">
            <label class="small-muted">ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù (Ø±ÙØ¹ Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ Ø£Ùˆ Ø¶Ø¹ Ø±Ø§Ø¨Ø·)</label>
            <input type="file" id="sCoverFile">
            <input id="sCoverUrl" placeholder="Ø£Ùˆ Ø§Ù„ØµÙ‚ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ù‡Ù†Ø§">
          </div>
          <div style="display:flex;gap:8px">
            <button class="btn" onclick="createStore()">Ø¥Ø¶Ø§ÙØ© Ù…ØªØ¬Ø±</button>
            <button class="btn ghost" onclick="clearStoreForm()">Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„</button>
          </div>
        </div>

        <div class="panel" style="margin-top:12px">
          <h3>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±</h3>
          <div id="storeSelectedInfo" class="small-muted">Ø§Ø®ØªØ± Ù…ØªØ¬Ø±Ù‹Ø§ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬Ø§ØªÙ‡</div>

          <div id="productFormArea" style="display:none;margin-top:8px">
            <div class="form-row"><input id="pName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬"></div>
            <div class="form-row"><textarea id="pDesc" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬"></textarea></div>
            <div class="form-row"><input id="pPrice" type="number" placeholder="Ø§Ù„Ø³Ø¹Ø±"></div>
            <div class="form-row"><input id="pQty" type="number" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø©"></div>
            <div class="form-row">
              <label class="small-muted">ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ (Ø±ÙØ¹ Ø£Ùˆ Ø±Ø§Ø¨Ø·)</label>
              <input type="file" id="pFile">
              <input id="pUrl" placeholder="Ø£Ùˆ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
            </div>
            <div style="display:flex;gap:8px">
              <button class="btn" onclick="addProduct()">Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬</button>
              <button class="btn ghost" onclick="clearProductForm()">Ù…Ø³Ø­</button>
            </div>
          </div>
        </div>

      </div>

      <!-- Ù†Ø§Ø­ÙŠØ© Ø§Ù„ÙŠÙ…ÙŠÙ†: Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø± ÙˆØ§Ø¯ÙˆØ§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
      <div>
        <div class="panel">
          <h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØ§Ø¬Ø±</h3>
          <div class="row" style="margin-bottom:8px">
            <input id="filterInput" class="search" placeholder="ÙÙ„ØªØ± Ø¨Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø± Ø£Ùˆ Ø§Ù„Ù…Ø§Ù„Ùƒ" oninput="renderStoresList()">
          </div>
          <div id="storesList" class="listbox"></div>
        </div>

        <div class="panel" style="margin-top:12px">
          <h3>Ø£Ø¯ÙˆØ§Øª Ø³Ø±ÙŠØ¹Ø©</h3>
          <div class="export-area">
            <button class="btn" onclick="clearAllConfirm()">ğŸ—‘ï¸ Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button class="btn ghost" onclick="seedDemo()">âš¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ¬Ø±ÙŠØ¨ÙŠØ©</button>
            <div class="small-muted">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ (localStorage)</div>
          </div>
        </div>

      </div>
    </div>

  </div>

<script>
/* ===== helpers ===== */
function uid(pref='id'){ return pref + '_' + Date.now() + '_' + Math.floor(Math.random()*900+100) }
function save(k,v){ localStorage.setItem(k, JSON.stringify(v)) }
function load(k, fallback){ try{ return JSON.parse(localStorage.getItem(k)) || fallback }catch(e){ return fallback } }

/* keys */
let stores = load('stores', []);
let orders = load('orders', []);
let settings = load('settings', { wraps: [{name:'ØªØºÙ„ÙŠÙ Ø¨Ø³ÙŠØ·', price:2000}, {name:'ØªØºÙ„ÙŠÙ ÙØ§Ø®Ø±', price:5000}], currency:'Ø¯.Ø¹' });

/* UI references */
const storesList = document.getElementById('storesList');
const filterInput = document.getElementById('filterInput');

/* selected store */
let selectedStoreId = null;

/* ===== store CRUD ===== */
function createStore(){
  const name = document.getElementById('sName').value.trim();
  const type = document.getElementById('sType').value.trim() || 'general';
  const owner = document.getElementById('sOwner').value.trim();
  const phone = document.getElementById('sPhone').value.trim();
  const address = document.getElementById('sAddress').value.trim();
  const desc = document.getElementById('sDesc').value.trim();
  if(!name || !owner){ alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ§Ø³Ù… Ø§Ù„Ù…Ø§Ù„Ùƒ'); return; }

  // image: prefer file -> base64, else use url
  const fileInput = document.getElementById('sCoverFile');
  const url = document.getElementById('sCoverUrl').value.trim();

  function finalize(imgData){
    const st = {
      id: uid('store'),
      type, name, owner, phone, address, description: desc,
      coverImage: imgData || '',
      gallery: [],
      products: [],
      createdAt: Date.now()
    };
    stores.push(st); save('stores', stores); renderStoresList(); clearStoreForm();
    alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØªØ¬Ø± âœ… Ø§Ø®ØªØ±Ù‡ Ù„ØªØ¨Ø¯Ø£ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª');
  }

  if(fileInput.files && fileInput.files[0]){
    const f = fileInput.files[0];
    const reader = new FileReader();
    reader.onload = ()=> finalize(reader.result);
    reader.readAsDataURL(f);
  } else {
    finalize(url || '');
  }
}

function clearStoreForm(){
  ['sName','sType','sOwner','sPhone','sAddress','sDesc','sCoverUrl'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('sCoverFile').value='';
}

/* render stores list */
function renderStoresList(){
  const q = (filterInput.value || '').trim().toLowerCase();
  storesList.innerHTML = '';
  if(!stores.length) { storesList.innerHTML = '<div class="small-muted" style="padding:8px">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ØªØ§Ø¬Ø± Ø¨Ø¹Ø¯</div>'; return; }
  stores.filter(s=>{
    if(!q) return true;
    return s.name.toLowerCase().includes(q) || (s.owner||'').toLowerCase().includes(q);
  }).forEach(s=>{
    const div = document.createElement('div'); div.className='item-row';
    div.innerHTML = `
      <div style="display:flex;gap:10px;align-items:center">
        <img src="${s.coverImage || ''}" alt="">
        <div>
          <div style="font-weight:700">${s.name}</div>
          <div class="small-muted">${s.owner || '-'} â€¢ ${s.type}</div>
        </div>
      </div>
      <div style="display:flex;gap:6px;align-items:center">
        <button class="btn btn-sm" onclick="selectStore('${s.id}')">ÙØªØ­</button>
        <button class="btn ghost btn-sm" onclick="editStore('${s.id}')">ØªØ¹Ø¯ÙŠÙ„</button>
        <button class="btn ghost btn-sm" onclick="removeStore('${s.id}')">Ø­Ø°Ù</button>
      </div>
    `;
    storesList.appendChild(div);
  });
}

/* select store for products */
function selectStore(id){
  selectedStoreId = id;
  const st = stores.find(x=>x.id===id);
  document.getElementById('storeSelectedInfo').innerText = `Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯: ${st.name} â€” ${st.owner} â€” ${st.phone}`;
  document.getElementById('productFormArea').style.display = 'block';
  renderProductList(st);
}

/* edit store (load into form for quick edit) */
function editStore(id){
  const st = stores.find(x=>x.id===id);
  if(!st) return;
  document.getElementById('sName').value = st.name;
  document.getElementById('sType').value = st.type;
  document.getElementById('sOwner').value = st.owner;
  document.getElementById('sPhone').value = st.phone;
  document.getElementById('sAddress').value = st.address || '';
  document.getElementById('sDesc').value = st.description || '';
  document.getElementById('sCoverUrl').value = st.coverImage || '';
  // after editing, remove old and add new on save (simple approach)
  removeStore(id);
  window.scrollTo({top:0, behavior:'smooth'});
}

/* remove store */
function removeStore(id){
  if(!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø§Ù„Ù…ØªØ¬Ø± Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ')) return;
  stores = stores.filter(s=>s.id!==id);
  save('stores', stores);
  renderStoresList();
  if(selectedStoreId === id){ selectedStoreId = null; document.getElementById('productFormArea').style.display='none'; document.getElementById('storeSelectedInfo').innerText='Ø§Ø®ØªØ± Ù…ØªØ¬Ø±Ù‹Ø§ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ù†ØªØ¬Ø§ØªÙ‡' }
}

/* ===== products ===== */
function clearProductForm(){
  ['pName','pDesc','pPrice','pQty','pUrl'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('pFile').value='';
}

function addProduct(){
  if(!selectedStoreId){ alert('Ø§Ø®ØªØ± Ù…ØªØ¬Ø±Ù‹Ø§ Ø£ÙˆÙ„Ø§Ù‹'); return; }
  const name = document.getElementById('pName').value.trim();
  const desc = document.getElementById('pDesc').value.trim();
  const price = Number(document.getElementById('pPrice').value) || 0;
  const qty = Number(document.getElementById('pQty').value) || 0;
  const url = document.getElementById('pUrl').value.trim();
  const fileInput = document.getElementById('pFile');

  if(!name || !price){ alert('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ ÙˆØ§Ù„Ø³Ø¹Ø±'); return; }

  function finalize(img){
    const prod = { id: uid('p'), name, description: desc, price, availableQty: qty, image: img || '', colors: [] };
    const st = stores.find(s=>s.id === selectedStoreId);
    st.products = st.products || [];
    st.products.push(prod);
    save('stores', stores);
    renderProductList(st);
    clearProductForm();
    alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ âœ…');
  }

  if(fileInput.files && fileInput.files[0]){
    const f = fileInput.files[0];
    const reader = new FileReader();
    reader.onload = ()=> finalize(reader.result);
    reader.readAsDataURL(f);
  } else {
    finalize(url || '');
  }
}

function renderProductList(storeObj){
  const container = document.getElementById('productFormArea');
  const listHtml = document.createElement('div');
  listHtml.style.marginTop = '10px';
  listHtml.innerHTML = `<div class="small-muted">Ù…Ù†ØªØ¬Ø§Øª: </div>`;
  const ul = document.createElement('div');
  (storeObj.products||[]).forEach(p=>{
    const pr = document.createElement('div');
    pr.style.display='flex'; pr.style.justifyContent='space-between'; pr.style.alignItems='center'; pr.style.padding='8px 0';
    pr.innerHTML = `<div style="display:flex;gap:8px;align-items:center">
      <img src="${p.image||''}" style="width:64px;height:56px;object-fit:cover;border-radius:8px"/>
      <div><div style="font-weight:700">${p.name}</div><div class="small-muted">${p.description||''}</div></div>
    </div>
    <div style="display:flex;gap:6px;align-items:center">
      <div class="small-muted">${p.price} Ø¯.Ø¹</div>
      <button class="btn ghost btn-sm" onclick="editProduct('${storeObj.id}','${p.id}')">ØªØ¹Ø¯ÙŠÙ„</button>
      <button class="btn ghost btn-sm" onclick="removeProduct('${storeObj.id}','${p.id}')">Ø­Ø°Ù</button>
    </div>`;
    ul.appendChild(pr);
  });
  // remove previous list if exists
  const prev = document.querySelector('#productFormArea .products-list');
  if(prev) prev.remove();
  const wrapper = document.createElement('div'); wrapper.className='products-list'; wrapper.appendChild(listHtml); wrapper.appendChild(ul);
  document.getElementById('productFormArea').appendChild(wrapper);
}

function editProduct(storeId, prodId){
  const st = stores.find(s=>s.id===storeId);
  const p = st.products.find(x=>x.id===prodId);
  // load into form for editing: remove old then fill
  document.getElementById('pName').value = p.name;
  document.getElementById('pDesc').value = p.description || '';
  document.getElementById('pPrice').value = p.price;
  document.getElementById('pQty').value = p.availableQty || 0;
  document.getElementById('pUrl').value = p.image || '';
  // remove existing, will be added on save
  st.products = st.products.filter(x=>x.id!==prodId);
  save('stores', stores);
  renderProductList(st);
}

function removeProduct(storeId, prodId){
  if(!confirm('Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬ØŸ')) return;
  const st = stores.find(s=>s.id===storeId);
  st.products = st.products.filter(x=>x.id!==prodId);
  save('stores', stores);
  renderProductList(st);
}

/* ===== orders admin ===== */
function renderOrdersAdmin(){
  const ords = load('orders', []);
  // create panel to show orders (simple)
  let html = '<div class="panel"><h3>Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ§Ø±Ø¯Ø©</h3>';
  if(!ords.length) html += '<div class="small-muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</div>';
  else {
    ords.forEach(o=>{
      html += `<div style="padding:8px;border-bottom:1px solid #f4f1f3">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>${o.customerName}</strong> â€¢ ${o.customerPhone} <div class="small-muted">${o.time}</div></div>
          <div style="text-align:left">
            <div>${o.productName || (o.count + ' Ã— Ù…Ø®ØµØµ')}</div>
            <div class="small-muted">${o.totalPrice} Ø¯.Ø¹</div>
            <div style="margin-top:6px">
              <select onchange="updateOrderStatus('${o.id}', this.value)"><option ${o.status==='new'?'selected':''} value="new">Ø¬Ø¯ÙŠØ¯Ø©</option><option ${o.status==='ready'?'selected':''} value="ready">Ø¬Ø§Ù‡Ø²Ø©</option><option ${o.status==='completed'?'selected':''} value="completed">Ù…ÙƒØªÙ…Ù„Ø©</option></select>
              <button class="btn ghost btn-sm" onclick="removeOrder('${o.id}')">Ø­Ø°Ù</button>
            </div>
          </div>
        </div>
      </div>`;
    });
  }
  html += '</div>';
  // append or replace under tools panel
  const toolsPanel = document.querySelector('.panel + .panel'); // a simple target
  if(toolsPanel) toolsPanel.insertAdjacentHTML('afterend', html);
}

/* update order status */
function updateOrderStatus(id, status){
  const ords = load('orders', []);
  const o = ords.find(x=>x.id===id);
  if(!o) return;
  o.status = status;
  save('orders', ords);
  alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨');
}

/* remove order */
function removeOrder(id){
  if(!confirm('Ø­Ø°Ù Ø§Ù„Ø·Ù„Ø¨ØŸ')) return;
  let ords = load('orders', []);
  ords = ords.filter(x=>x.id!==id);
  save('orders', ords);
  alert('ØªÙ… Ø§Ù„Ø­Ø°Ù');
  // re-render page or notify user
}

/* ===== export / import ===== */
function exportData(){
  const data = { stores: stores, orders: load('orders', []), settings: settings };
  const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'asharek-data.json'; a.click();
  URL.revokeObjectURL(url);
}

document.getElementById('importFile').addEventListener('change', (e)=>{
  const f = e.target.files[0];
  if(!f) return;
  const r = new FileReader();
  r.onload = ()=>{
    try{
      const data = JSON.parse(r.result);
      if(data.stores && Array.isArray(data.stores)) stores = data.stores;
      if(data.orders && Array.isArray(data.orders)) save('orders', data.orders);
      save('stores', stores);
      save('settings', data.settings || settings);
      alert('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
      renderStoresList();
    }catch(err){ alert('Ù…Ù„Ù ØºÙŠØ± ØµØ§Ù„Ø­') }
  };
  r.readAsText(f);
});

/* seed demo */
function seedDemo(){
  if(!confirm('Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª ØªÙˆØ¶ÙŠØ­ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªØ§Ø¬Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØ©ØŸ')) return;
  const demoStores = [
    {
      id: uid('store'), type:'flowers', name:'ÙˆØ±ÙˆØ¯ Ø§Ù„Ù„Ø§Ù…Ø¹', owner:'Ø¹Ù„ÙŠ', phone:'07701234567',
      address:'Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©', description:'Ù…ØªØ¬Ø± ÙˆØ±ÙˆØ¯ Ù…Ù…ÙŠØ²', coverImage:'images/demo1.jpg',
      gallery:[], products:[
        {id:uid('p'), name:'Ø¨Ø§Ù‚Ø© Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠØ©', price:5200, description:'12 ÙˆØ±Ø¯Ø©', image:'images/p1.jpg', availableQty:40, colors:['Ø£Ø­Ù…Ø±','ÙˆØ±Ø¯ÙŠ']},
        {id:uid('p'), name:'Ø¨Ø§Ù‚Ø© Ø£Ù†ÙŠÙ‚Ø©', price:4200, description:'8 ÙˆØ±Ø¯', image:'images/p2.jpg', availableQty:20, colors:['Ø£Ø¨ÙŠØ¶','ÙˆØ±Ø¯ÙŠ']}
      ], createdAt: Date.now()
    }
  ];
  stores = stores.concat(demoStores); save('stores', stores); renderStoresList();
}

/* clear all */
function clearAllConfirm(){
  if(!confirm('Ø­Ø°Ù ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­ (stores, orders, settings)ØŸ')) return;
  localStorage.removeItem('stores'); localStorage.removeItem('orders'); localStorage.removeItem('settings');
  stores = []; orders = []; settings = {wraps:[]};
  renderStoresList();
  alert('ØªÙ… Ø§Ù„Ø­Ø°Ù');
}

/* open public */
function openPublic(){ window.open('index.html','_blank') }

/* init */
renderStoresList();
renderOrdersAdmin();

/* re-run product list if a store was selected previously */
if(stores.length && !selectedStoreId) { /* nothing */ }

</script>
</body>
</html>
